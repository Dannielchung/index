<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="author" content="Admin">
    <script type="text/javascript" src="jquery-3.2.0.js"></script>
    <script type="text/javascript">
    $(function() {
        var all = $("*");
        all.each(function() {
            var rel = this;
            this.onclick = function(event) {
                /* 獲取事件發生的目標 */
                event = event ? event : window.event; //根據不同的瀏覽器進行判斷IE只知道window.event
                /* IE不知道target，而是使用srcElement來代替。*/
                var target = event.target ? event.target : event.srcElement;
                print("事件源：" + target.id + "," + target.tagName + ",事件對象：" + this.id + "--->" + this.nodeType);
                // $(target).attr("id") 同等 target.id

                /* 模式DOM0會產生事件冒泡問題。可以通過stopPropagation()方法取消事件冒泡，IE則透過cancelBubble屬性來取消事件冒泡 */
                event.stopPropagation();
                // event.cancelBubble = true;
                /* DOM0模型不支持事件捕獲，而且DOM0帶來的第二個問題是事件會被覆蓋 */
            }
        });
        // for (var i = 0; i < all.length; i++) {
        //     var rel = all[i];
        //     all[i].onclick = function(event) {
        //         /* 獲取事件發生的目標 */
        //         event = event ? event : window.event; //根據不同的瀏覽器進行判斷IE只知道window.event
        //          IE不知道target，而是使用srcElement來代替。
        //         var target = event.target ? event.target : event.srcElement;
        //         print("事件源：" + target.id + "," + target.tagName + ",事件對象：" + this.id);
        //         // $(target).attr("id") 同等 target.id
        //     }
        // }

        function print(txt) {
            $("#content").append(txt+"<br/>");
        }
    });
    </script>
</head>
<body id="body">
    <div id="parent">
        <div id="child">
            點了看一下
        </div>
    </div>
    <div id="content">
    </div>
</body>

</html>
