<!DOCTYPE html>
<html>

<head>
    <title>sort</title>
</head>

<body>
    <div id="person"></div>
    <script type="text/javascript">
    function sortByNum(a, b) {
        return a - b;
    }
    var as = [1, 2, 11, 33, 12, 190];
    as.sort();
    alert(as);

    as.sort(sortByNum);
    alert(as);

    function Person(name, age) {
        this.age = age;
        this.name = name;
    }

    var p1 = new Person("Leo", 39);
    var p2 = new Person("John", 33);
    var p3 = new Person("Ada", 41);
    var ps = [p1, p2, p3];

    /*
     * 通過以下方法排序，需要逐一將屬性加入排序方法，很不妥。
     */
    // ps.sort(sortByAge);

    // function sortByAge(obj1, obj2) {
    //     return obj1.age - obj2.age;
    // }

    // function sortByName(obj1, obj2) {
    //     if (obj1.name > obj2.name > 0) return 1;
    //     else if (obj1.name == obj2.name) return 0;
    //     else return -1;
    // }

    /*
     * 用以下方法，方便使用。
     */
    ps.sort(sortByProperty('age'));

    function sortByProperty(propertyName) {
        var sortFun = function(obj1, obj2) {
            if (obj1[propertyName] > obj2[propertyName]) return 1;
            else if (obj1[propertyName] == obj2[propertyName]) return 0;
            else return -1;
        }
        return sortFun;
    }

    function show() {
        var p = document.getElementById('person');
        for (var i = 0; i < ps.length; i++) {
            p.innerHTML += ps[i].name + "," + ps[i].age + "<br/>";
        }
    }
    show();
    </script>
</body>

</html>
